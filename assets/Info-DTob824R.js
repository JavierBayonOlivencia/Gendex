import{j as e,r as A}from"./index-tK-OfqVc.js";import{P as _,e as J}from"./pokeAPIService-B6kPXZnE.js";const p={bug:"rgb(168 184 32)",dark:"rgb(112 88 72)",dragon:"rgb(112 56 248)",electric:"rgb(248 208 48)",fairy:"rgb(248 160 224)",fighting:"rgb(144 48 40)",fire:"rgb(240 80 48)",flying:"rgb(168 144 240)",ghost:"rgb(112 88 152)",grass:"rgb(120 200 80)",ground:"rgb(224 192 104)",ice:"rgb(152 216 216)",normal:"rgb(168 168 120)",poison:"rgb(160 64 160)",psychic:"rgb(248 88 136)",rock:"rgb(184 160 56)",shadow:"rgb(64 50 70)",steel:"rgb(184 184 208)",water:"rgb(104 144 240)",unknown:"rgb(104 160 144)"},v={1:["red-blue","yellow"],2:["gold-silver","crystal"],3:["ruby-sapphire","emerald","firered-leafgreen"],4:["diamond-pearl","platinum","heartgold-soulsilver"],5:["black-white","black-2-white-2"],6:["x-y","omega-ruby-alpha-sapphire"],7:["sun-moon","ultra-sun-ultra-moon","lets-go-pikachu-lets-go-eevee"],8:["sword-shield","brilliant-diamond-and-shining-pearl"],9:["scarlet-violet"]};function D({pokemonInfo:a,totalStats:i}){var c;return e.jsxs("article",{className:"content__box content__box--column",children:[e.jsx("h2",{children:"Stats"}),e.jsxs("ul",{children:[(c=a==null?void 0:a.stats)==null?void 0:c.map((l,r)=>e.jsxs("li",{children:[e.jsxs("span",{children:[l.stat.name,": "]}),l.base_stat]},r)),e.jsxs("li",{children:[e.jsx("span",{children:"Total: "}),i]})]})]})}const O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIYSURBVHgB7ZrBbdtAEEX/V5RbDuwgFCAfcgqVCpgO0oGSCoyU4ApSgtVB0oGZCsJb4MiAVIIPvknOZKjkoOUSuwK8EMzsvAMPg9FSO+B+zOwMZb0QxNjLjG/aLZ6I3FYrTLgMOlFWnLef8NR3/axKTLmJ+U2QORYAZM5UT0vjmljoo+p5vZW1nqkQD2i5aO9xBmRTFdj3/qPnhHLAtlWN2R6bprxo3zs+v6qPIK/dX/IbYrySbp0G5+Cwed4EfThklCvd7+rYYhqAzDERRCoEH1Q/yqAP+RrRdVgedChMfJ0TSRcA8hJpqHWtGmfCNACZYyLoWR41mXkhbjVGftFngXFxD5HPjuXRT9SIE5C7xWYwtXzOEFvOf8xibqYByJx0ecBzQ1DI3bvrmBv1SuwGcWr8p3RfQI2MMRFE5lgAkDkWAGSOZYJ+X2AIdnfw46oGTyyGvL7AEP+qwbGVwydhGoDMMRHsG7TxWGLXK5DGeP67crjfX3iJhjN30MO/D9gd7uWjdfQIKLx97A53natjk2kAMsdEEKn4LVdd9hX0IZb6qIM+It/RO6cDVKl6kekCMFGFvWibkIvcVnX0m5tgw7k7xeGts9Z1gCQBMA1A5pgIen0Bag+wPzwrmkDEBO4BLc7FVN+1l3AVS02EhF9dGy91v0t3KXhpr492VVPMCqdC09luHrEJ+fydFfbM3myhaQAyJ/sA/AHDspBq9M63UAAAAABJRU5ErkJggg==",P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHbSURBVHgB7ZoxbsIwFIZ/O60A0UodYeMo4QadQEyFE/RIzVYBS3sC0pukUzMygNKB4JpSoYQ6IdRuquq9b8lg+8V6yv/bebaAJd1ZovCHvA1aAhZIEIcTAOJU0k9nthoLeA+mNlsN2lLkQQrpJB5cBTgBSwDEuUCNdKfrWyXUTWmn1IviUStETeQS0J0nCy0e/7iTFlngROtS3gtD/Ny7JEL9CFGRonl1putA+8M331IKYTxs9Q9TAnHYA+CYzmPSg5f6pja13b5AXESlAcR+2TU1va/bT8uJWMIhhQmouo4aIvaEMu8Z1HbTj0eNsGx4Z574evzC1NZsriJU9Id42B7rx/gzZsk+hj0AxHHiATndq1TL5zIw9Uu9xmn9bhApTwbGNil9/Tn3voKFer8QwRKR3UurdKfR6xBnktXY8Trrkuw+5acetfcYHDyGPQDE4QSAOJwAEIcTAOJwAkAcTgCIwwkAcdzUBHUt//APb1nTq1xTTBHBAbma+m/8b2epUm+wHW+MWVKvYA8AcdyfDVat6RVhW1M8k0IPyM1Jnw3Gg9YElhTFz73LUU1xdzYohLw7FZ89AMSp9X4AUvWspBeVd9q8okb4jhCIwwkAcaz1y3eF/zmcABDnAw0I6ka8GZqTAAAAAElFTkSuQmCC",X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFoSURBVHgB7ZpNbsIwEIWfk6rngJuEc0CasCQcAnqGKnRJIY16DHITOEelZmoWQIOIVQfjFs18m2g0ViSP9EbzYwVHvC4/ehTWW3hAfX32J+PxDg4IwBwJAJijbA7nRblRhKjFvcuehn14YLEu97mmd8lHRNU0GQ3wS0QCYI7kgJ/GS1FEIQWb1sOqHkziuEIHFqv3N/2DBA4w1QG2dxAJgDnsA/BgchLVz9MknqMD+bpMdYJZ4gZQ+LjVtcBlX01VlgyPuS1fFXOlglnbv0QCYI7kAK0lOhjn+rlHlFJR4046j+ke5ZQTdD+j/cc6QSQA5kgv0NSLXS9tg8tewCUiATBH6gB4IktGqf6kB9s01/OJSADMkRyAP8K0Q7jlLEFmgmdIAMAc417gmpmgS5zuFCQHNJEAgDnGOmA/T9c1++xkd98N/ldEAmCO1AE2h329EbqmF5A3QpZIAMAcZ3tAeSt8p0gAwJxv3iGXfkpz8/wAAAAASUVORK5CYII=",W={physical:O,status:X,special:P};function H({pokemonMoves:a,setVersionGroups:i,generation:c}){const[l,r]=A.useState(0),[h,u]=A.useState(Number(c)),g=Array.from({length:l},(s,o)=>o+1);A.useEffect(()=>{const s=new _;(async()=>{const b=await s.getGenerations();r(b.count)})()},[]);function d(s){i(v[s]),u(s)}return e.jsxs("article",{className:"content__box content__box--column",children:[e.jsx("h2",{children:"Moves:"}),e.jsx("ul",{className:"flex-wrap",children:g==null?void 0:g.map(s=>e.jsx("li",{className:`${h===s?"btn--link-active":""}`,children:e.jsxs("button",{className:"btn btn--link",onClick:()=>d(s),children:["Gen ",s]})},s)).slice(Number(c)-1)}),e.jsx("article",{className:"content__box content__box--row",children:e.jsxs("table",{className:"content__box__table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Lv."}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Cat."}),e.jsx("th",{children:"PP."}),e.jsx("th",{children:"Power"}),e.jsx("th",{children:"Accuracy"})]})}),e.jsx("tbody",{children:a==null?void 0:a.map((s,o)=>e.jsxs("tr",{children:[e.jsx("th",{children:s.level}),e.jsx("th",{style:{background:p[s.type]},children:s.name}),e.jsx("th",{children:s.dc?e.jsx("img",{className:"icon",src:W[s.dc],alt:s.dc}):"-"}),e.jsx("th",{children:s.pp}),e.jsx("th",{children:s.power?s.power:"-"}),e.jsx("th",{children:s.accuracy?s.accuracy:"-"})]},o))})]})})]})}function C({effectiveness:a,title:i}){return e.jsxs("article",{className:"content__box content__box--column",children:[e.jsxs("h2",{children:[i,":"]}),e.jsxs("article",{className:"content__box content__box--row",children:[e.jsx("span",{className:"font-w700",children:"type:"}),e.jsx("ul",{className:"flex-wrap",children:a==null?void 0:a.map((c,l)=>e.jsx("li",{className:"content__box__item",style:{background:p[c]},children:c},l))})]})]})}function $({isInfo:a,pokemonName:i,pokemonId:c,gen:l,info:r,specie:h}){var w;const[u,g]=A.useState(v[l]),[d,s]=A.useState(null),[o,b]=A.useState(null),[B,N]=A.useState([]),[R,T]=A.useState(null),[Q,G]=A.useState(null),[M,U]=A.useState([]);return A.useEffect(()=>{const m=new _;let x=!0;return(async()=>{if(!r||!h)return;const F=r==null?void 0:r.stats.reduce((t,n)=>t+n.base_stat,0),Y=await Promise.all(r.types.map(t=>m.getTypeInfo(t.type.name))),j=new Set,S=new Set,f=new Set,E=new Set;for(const t of Y)t.doubleDamageFrom.forEach(n=>j.add(n)),t.halfDamageFrom.forEach(n=>S.add(n)),t.noDamageFrom.forEach(n=>f.add(n)),t.doubleDamageTo.forEach(n=>E.add(n));const V=Array.from(j).filter(t=>!S.has(t)&&!f.has(t)),I=r.moves.map(t=>{const n=t.version_group_details.find(k=>u.includes(k.version_group.name)&&k.move_learn_method.name==="level-up");return n?{id:J(t.move.url),level:n.level_learned_at}:null}).filter(Boolean),y=(await Promise.all(I.map(({id:t})=>m.getMoves(t)))).map((t,n)=>({name:t.name,level:I[n].level,power:t.power,accuracy:t.accuracy,pp:t.pp,type:t.type.name,dc:t.damage_class.name}));y.sort((t,n)=>t.level-n.level),x&&(s(r),b(h),N(V),G(F),T(Array.from(E)),U(y))})(),()=>{x=!1}},[i,c,u,r,h]),e.jsxs("div",{className:`content content__page ${a?"content__page--active":""}`,children:[e.jsxs("article",{className:"content__box content__box--row",children:[e.jsx("span",{className:"font-w700",children:"Type:"}),e.jsx("ul",{className:"flex-wrap",children:(w=d==null?void 0:d.types)==null?void 0:w.map((m,x)=>e.jsx("li",{className:"content__box__item",style:{background:p[m.type.name]},children:m.type.name},x))})]}),e.jsx("p",{children:o==null?void 0:o.flavorTextEntries}),e.jsx(D,{pokemonInfo:d,totalStats:Q}),e.jsx(C,{effectiveness:B,title:"Weakness"}),e.jsx(C,{effectiveness:R,title:"Strength"}),e.jsx(H,{pokemonMoves:M,setVersionGroups:g,generation:l})]})}export{$ as default};
